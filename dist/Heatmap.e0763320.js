var e=globalThis.parcelRequire94c2,t=e.register;t("fd07Q",function(t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var o=d(e("acw62")),i=d(e("9NlP8")),a=f(e("c9Z8w")),l=e("63tWu"),u=f(e("bN8Lq"));function f(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function c(e){var t=(0,o.useRef)(),r={x:i.scaleBand(),y:i.scaleBand(),color:i.scaleSequential()},n=i.map(e.data,function(t){return t[e.fields.x]}).keys(),a=i.map(e.data,function(t){return t[e.fields.y]}).keys();return(0,o.useEffect)(function(){setTimeout(function(){i.select(t.current).select(".tooltip").remove("div"),i.select(t.current).selectAll("svg").remove("svg");var o=t.current.getBoundingClientRect(),f=o.width-60-10,s=o.height-10-30,d=e.data;0!==e.filters.length&&(d=e.filterData);var c=i.select(t.current).append("svg").attr("width",o.width).attr("height",o.height).append("g").attr("transform","translate(".concat(60,",").concat(10,")"));r.x.range([0,f]).domain(n).padding(.05),c.append("g").style("font-size",13).attr("transform","translate(0,".concat(s,")")).call(i.axisBottom(r.x).tickSize(0)).select(".domain").remove(),r.y.range([s,0]).domain(a).padding(.05),c.append("g").style("font-size",13).call(i.axisLeft(r.y).tickSize(0)).select(".domain").remove(),r.color.interpolator(i.interpolateInferno).domain(i.extent(e.data,function(t){return t[e.fields.z]}));var p=(0,u.default)(t.current,function(t){return"The ".concat(e.fields.z," of this \n      cell is: ").concat((0,l.numFixed)(t.z?t.z:0))},{x:80,y:0}),y=[];n.forEach(function(t){return a.forEach(function(r){var n=d.filter(function(n){return n[e.fields.x]===t&&n[e.fields.y]===r});y.push({g:t,v:r,z:i.mean(n,function(t){return t[e.fields.z]})})})}),c.selectAll().data(y,function(e){return"".concat(e.g,":").concat(e.v)}).enter().append("rect").attr("x",function(e){return r.x(e.g)}).attr("y",function(e){return r.y(e.v)}).attr("rx",4).attr("ry",4).attr("width",r.x.bandwidth()).attr("height",r.y.bandwidth()).style("fill",function(e){return r.color(e.z)}).style("stroke-width",4).style("stroke","none").style("opacity",.8).on("mousemove",p.mousemove).on("mouseleave",p.mouseleave).on("click",function(t){var r=[{id:"".concat(e.id,"_x"),title:e.title,field:e.fields.x,operation:"in",values:[t.g]},{id:"".concat(e.id,"_y"),title:e.title,field:e.fields.y,operation:"in",values:[t.v]}];e.filterAdded(r)})},100)},[e.layout,e.filters,e.filterData]),o.default.createElement("div",{id:e.id,ref:t,role:"figure",style:{width:"100%",height:"100%"}})}t.exports.default=c,c.propTypes={id:a.default.string.isRequired,title:a.default.string.isRequired,data:a.default.arrayOf(a.default.shape({})).isRequired,fields:a.default.shape({x:a.default.string.isRequired,y:a.default.string.isRequired,z:a.default.string.isRequired}).isRequired,filterData:a.default.arrayOf(a.default.shape({})).isRequired,filters:a.default.arrayOf(a.default.shape({})).isRequired,layout:a.default.shape({width:a.default.number.isRequired,currentCols:a.default.number.isRequired}).isRequired,filterAdded:a.default.func.isRequired}}),t("bN8Lq",function(t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=i(void 0);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&({}).hasOwnProperty.call(e,l)){var u=a?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=e[l]}return o.default=e,r&&r.set(e,o),o}(e("9NlP8"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}t.exports.default=function(e,t,r){var n=o.select(e).append("div").style("opacity",1).attr("class","tooltip").style("display","none").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");return{mousemove:function(e){n.html(t(e)).style("display","").style("left","".concat(r.x+o.mouse(this)[0],"px")).style("top","".concat(r.y+o.mouse(this)[1],"px"))},mouseleave:function(){n.style("display","none")}}}});
//# sourceMappingURL=Heatmap.e0763320.js.map
