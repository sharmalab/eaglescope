{"mappings":"A,I,E,A,W,iB,C,A,C,E,E,Q,A,E,Q,S,C,C,C,E,S,E,C,E,M,C,E,Y,O,Q,U,O,O,Q,C,S,C,E,O,O,C,E,S,C,E,O,G,Y,O,Q,E,W,G,Q,I,O,S,C,S,O,C,C,E,E,C,O,c,C,E,O,C,a,C,M,C,C,G,E,O,C,O,C,K,ECAA,IAGiDgB,EAHjD6K,EAAAC,EAAA,EAAA,UACAE,EAAAF,EAAA,EAAA,UACAG,EACiDjL,CAAAA,EADjD,EAAA,WACiDA,EAAAK,UAAA,CAAAL,EAAA,CAAA,QAAAA,CAAA,E,E,E,SAAA,SAAAoL,EAAApL,CAAA,EAAA,GAAA,YAAA,OAAAQ,QAAA,OAAA,KAAA,IAAAC,EAAA,IAAAD,QAAAE,EAAA,IAAAF,QAAA,MAAA4K,AAAAA,CAAAA,EAAA,SAAApL,CAAA,EAAA,OAAAA,EAAAU,EAAAD,CAAA,CAAA,EAAAT,EAAA,CAAA,SAAA8K,EAAA9K,CAAA,CAAAS,CAAA,EAAA,GAAA,CAAAA,GAAAT,GAAAA,EAAAK,UAAA,CAAA,OAAAL,EAAA,GAAA,OAAAA,GAAA,UAAAqL,EAAArL,IAAA,YAAA,OAAAA,EAAA,MAAA,CAAA,QAAAA,CAAA,EAAA,IAAAU,EAAA0K,EAAA3K,GAAA,GAAAC,GAAAA,EAAAC,GAAA,CAAAX,GAAA,OAAAU,EAAAE,GAAA,CAAAZ,GAAA,IAAAa,EAAA,CAAAC,UAAA,IAAA,EAAAC,EAAAlB,OAAAC,cAAA,EAAAD,OAAAmB,wBAAA,CAAA,IAAA,IAAAC,KAAAjB,EAAA,GAAA,YAAAiB,GAAA,AAAA,CAAA,CAAA,CAAA,EAAAC,cAAA,CAAAC,IAAA,CAAAnB,EAAAiB,GAAA,CAAA,IAAAG,EAAAL,EAAAlB,OAAAmB,wBAAA,CAAAhB,EAAAiB,GAAA,IAAAG,CAAAA,GAAAA,CAAAA,EAAAR,GAAA,EAAAQ,EAAAC,GAAAA,AAAAA,EAAAxB,OAAAC,cAAA,CAAAe,EAAAI,EAAAG,GAAAP,CAAA,CAAAI,EAAA,CAAAjB,CAAA,CAAAiB,EAAA,AAAA,CAAA,OAAAJ,EAAA,OAAA,CAAAb,EAAAU,GAAAA,EAAAW,GAAA,CAAArB,EAAAa,GAAAA,CAAA,CAAA,SAAAiL,IAAA,GAAA,CAAA,IAAApL,EAAA,CAAAa,QAAA3B,SAAA,CAAA4B,OAAA,CAAAL,IAAA,CAAAM,QAAAC,SAAA,CAAAH,QAAA,EAAA,CAAA,WAAA,GAAA,CAAA,MAAAb,EAAA,CAAA,CAAA,MAAA,AAAAoL,CAAAA,EAAA,WAAA,MAAA,CAAA,CAAApL,CAAA,CAAA,GAAA,CAAA,SAAAkL,EAAAlL,CAAA,EAAA,MAAAkL,CAAAA,EAAA/L,OAAA+B,cAAA,CAAA/B,OAAAgC,cAAA,CAAAC,IAAA,GAAA,SAAApB,CAAA,EAAA,OAAAA,EAAAI,SAAA,EAAAjB,OAAAgC,cAAA,CAAAnB,EAAA,CAAA,EAAAA,EAAA,CAAA,SAAAuL,EAAAvL,CAAA,CAAAV,CAAA,EAAA,MAAAiM,CAAAA,EAAApM,OAAA+B,cAAA,CAAA/B,OAAA+B,cAAA,CAAAE,IAAA,GAAA,SAAApB,CAAA,CAAAV,CAAA,EAAA,OAAAU,EAAAI,SAAA,CAAAd,EAAAU,CAAA,CAAA,EAAAA,EAAAV,EAAA,CA2MjDkC,AAzMiC5C,CAAAA,EAAAA,OAAA,CAAA,OAAA,CAAA,SAAA2C,CAAA,MAFgBxB,EAG/C,SAAAyB,EAAYC,CAAK,MAAEC,EAH4B5C,EAAAQ,EAmB3C,OAhBesL,AAH4B,SAAAvK,CAAA,CAAAF,CAAA,EAAA,GAAA,CAAAE,CAAAA,aAAAF,CAAAA,EAAA,MAAA,AAAAyB,UAAA,oCAAA,EAG5B,IAAA,CAAAJ,GAH4B1C,EAI7C0C,EAJ6ClC,EAI7C,CAAMmC,EAANC,CAJ6C5C,EAAAoM,EAAApM,GAM7C4C,AAFAA,CAAAA,EAJ6CyJ,AAAA,SAAAnL,CAAA,CAAAV,CAAA,EAAA,GAAAA,GAAA,CAAA,UAAAqL,EAAArL,IAAA,YAAA,OAAAA,CAAAA,EAAA,OAAAA,EAAA,GAAA,KAAA,IAAAA,EAAA,MAAA,AAAAsC,UAAA,4DAAA,OAAAyJ,AAAA,SAAA/L,CAAA,EAAA,GAAA,KAAA,IAAAA,EAAA,MAAA,AAAAyC,eAAA,6DAAA,OAAAzC,CAAA,EAAAU,EAAA,EAI7C,IAAA,CAJ6CoL,IAAArK,QAAAC,SAAA,CAAAlC,EAAAQ,GAAA,EAAA,CAAA4L,EAI7C,IAAA,EAJ6CjM,WAAA,EAAAH,EAAAkD,KAAA,CAI7C,IAAA,CAJ6C1C,GAI7CoC,EAEKO,IAAI,CAAGuJ,EAAAA,OAAK,CAACtJ,SAAS,GAC3BR,EAAKS,KAAK,CAAG,CACXC,OAAQ,CACNC,IAAK,EACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,EACR,CACF,EACAd,EAAKS,KAAK,CAACM,IAAI,CAAGf,EAAKD,KAAK,CAACgB,IAAI,CAACC,MAAM,CACtC,SAACC,CAAC,EAAA,MAAKA,AAA2B,QAA3BA,CAAC,CAACjB,EAAKD,KAAK,CAACmB,MAAM,CAACC,CAAC,CAAC,EACxBF,AAA2B,QAA3BA,CAAC,CAACjB,EAAKD,KAAK,CAACmB,MAAM,CAACE,CAAC,CAAC,EACtBH,AAA2B,QAA3BA,CAAC,CAACjB,EAAKD,KAAK,CAACmB,MAAM,CAACG,CAAC,CAAC,AAAU,GACrCrB,CACJ,CAAC,OAAA4J,AApB8C,SAAAtL,CAAA,CAAAV,CAAA,EAAA,GAAA,YAAA,OAAAA,GAAA,OAAAA,EAAA,MAAA,AAAAsC,UAAA,qDAAA5B,CAAAA,EAAAd,SAAA,CAAAC,OAAA8D,MAAA,CAAA3D,GAAAA,EAAAJ,SAAA,CAAA,CAAAD,YAAA,CAAAI,MAAAW,EAAAkD,SAAA,CAAA,EAAAC,aAAA,CAAA,CAAA,CAAA,GAAAhE,OAAAC,cAAA,CAAAY,EAAA,YAAA,CAAAkD,SAAA,CAAA,CAAA,GAAA5D,GAAAiM,EAAAvL,EAAAV,EAAA,EAoB9CkC,EAAAD,GApB8CxB,EAoB9C,CAAA,CAAAqD,IAAAA,oBAAA/D,MAED,WACE,IAAI,CAACgE,kBAAkB,EACzB,CAAC,EAAA,CAAAD,IAAAA,qBAAA/D,MAED,WAAqB,IAAAiE,EAAA,IAAA,CACnBC,WAAW,WACT+G,EAAG9G,MAAM,CAACF,EAAKrB,IAAI,CAACwB,OAAO,EAAEC,SAAS,CAAC,UAAUC,MAAM,CAAC,UACxD2G,EAAG9G,MAAM,CAACF,EAAKrB,IAAI,CAACwB,OAAO,EAAEC,SAAS,CAAC,OAAOC,MAAM,CAAC,OACrDL,EAAKM,IAAI,CAAGN,EAAKrB,IAAI,CAACwB,OAAO,CAACI,qBAAqB,GACnD,IAAMC,EAAaR,EAAKM,IAAI,CAACG,KAAK,CAAGT,EAAKnB,KAAK,CAACC,MAAM,CAACI,IAAI,CAAGc,EAAKnB,KAAK,CAACC,MAAM,CAACE,KAAK,CAC/E0B,EAAcV,EAAKM,IAAI,CAACK,MAAM,CAAGX,EAAKnB,KAAK,CAACC,MAAM,CAACC,GAAG,CAAGiB,EAAKnB,KAAK,CAACC,MAAM,CAACG,MAAM,AAEvFe,CAAAA,EAAKY,MAAM,CAAGoG,EACX9G,MAAM,CAACF,EAAKrB,IAAI,CAACwB,OAAO,EACxBU,MAAM,CAAC,UACPC,IAAI,CAAC,QAASN,GACdM,IAAI,CAAC,SAAUJ,GACfK,KAAK,CAAC,YAAW,aAAAC,MAAA,CAAehB,EAAKnB,KAAK,CAACC,MAAM,CAACI,IAAI,CAAA,OAAA8B,MAAA,CAAMhB,EAAKnB,KAAK,CAACC,MAAM,CAACC,GAAG,CAAA,QAGpF,IAAMkC,EAAM+F,EACT9G,MAAM,CAACF,EAAKrB,IAAI,CAACwB,OAAO,EACxBU,MAAM,CAAC,OACPC,IAAI,CAAC,QAASd,EAAKM,IAAI,CAACG,KAAK,EAC7BK,IAAI,CAAC,SAAUd,EAAKM,IAAI,CAACK,MAAM,EAC/BG,IAAI,CAAC,YAAW,aAAAE,MAAA,CAAe,EAAC,IAAI,CAACN,EAAW,MAG7CQ,EAASD,EACZJ,MAAM,CAAC,KACPC,IAAI,CAAC,YAAW,aAAAE,MAAA,CAAehB,EAAKnB,KAAK,CAACC,MAAM,CAACI,IAAI,CAAA,OAGxDc,CAAAA,EAAKmB,MAAM,CAAGnB,EAAKoB,gBAAgB,CAACpB,EAAK7B,KAAK,CAACmB,MAAM,CAACC,CAAC,CAAE,CAAC,EAAGiB,EAAW,EACxER,EAAKqB,MAAM,CAAGrB,EAAKoB,gBAAgB,CAACpB,EAAK7B,KAAK,CAACmB,MAAM,CAACE,CAAC,CAAE,CAACkB,EAAa,EAAE,EACzEV,EAAKsB,WAAW,CAAGtB,EAAKoB,gBAAgB,CAACpB,EAAK7B,KAAK,CAACmB,MAAM,CAACG,CAAC,CAAE,CAAC,EAAG,GAAG,EACrE,IAAM8B,EAA+B,WAKnC,OAJAC,QAAQC,GAAG,CAACR,GAIL,CAHQ+F,EAAGtF,KAAK,CAACC,WAAW,CAACC,OAAO,CAAGX,EAAIY,IAAI,GAAGtB,qBAAqB,GAAGhB,CAAC,CAChFS,EAAKnB,KAAK,CAACC,MAAM,CAACI,IAAI,CACT8H,EAAGtF,KAAK,CAACC,WAAW,CAACG,OAAO,CAAGb,EAAIY,IAAI,GAAGtB,qBAAqB,GAAGf,CAAC,CAC3D,AACzB,EACA0B,EACGL,MAAM,CAAC,KACPC,IAAI,CAAC,YAAW,eAAAE,MAAA,CAAiBN,EAAW,MAC5CvD,IAAI,CAAC6J,EAAGjF,UAAU,CAAC/B,EAAKmB,MAAM,EAAEa,QAAQ,CAAC,CAACtB,IAG7CQ,EAAOL,MAAM,CAAC,KAAK1D,IAAI,CAAC6J,EAAG/E,QAAQ,CAACjC,EAAKqB,MAAM,EAAEW,QAAQ,CAAC,CAACxB,IAE3DR,EAAKkC,KAAK,CAAG8E,EACV9E,KAAK,GACLC,MAAM,CAAC,CACN,CAAC,EAAG,EAAE,CACN,CAAC3B,EAAYE,EAAY,CAC1B,EAAE0B,EAAE,CAAC,QAAS,WACbpC,EAAKqC,aAAa,CAAGd,GACvB,GAAGa,EAAE,CAAC,QAAS,WACbpC,EAAKsC,WAAW,CAAGf,IACnBN,EAAIb,SAAS,CAAC,QAAQC,MAAM,CAAC,QAC7B,IAAMkC,EAASC,KAAKC,GAAG,CAACzC,EAAKqC,aAAa,CAAC,EAAE,CAAErC,EAAKsC,WAAW,CAAC,EAAE,EAC5DI,EAASF,KAAKC,GAAG,CAACzC,EAAKqC,aAAa,CAAC,EAAE,CAAErC,EAAKsC,WAAW,CAAC,EAAE,EAC7CrB,EAAIJ,MAAM,CAAC,QAC7BC,IAAI,CAAC,WAAY,YACjBA,IAAI,CAAC,IAAKyB,EAASvC,EAAKnB,KAAK,CAACC,MAAM,CAACI,IAAI,EACzC4B,IAAI,CAAC,IAAK4B,GACV5B,IAAI,CAAC,QAAS0B,KAAKG,GAAG,CAAC3C,EAAKsC,WAAW,CAAC,EAAE,CAAGtC,EAAKqC,aAAa,CAAC,EAAE,GAClEvB,IAAI,CAAC,SAAU0B,KAAKG,GAAG,CAAC3C,EAAKsC,WAAW,CAAC,EAAE,CAAGtC,EAAKqC,aAAa,CAAC,EAAE,GACnEvB,IAAI,CAAC,OAAQ,2BAClB,GACCsB,EAAE,CAAC,MAAO,WACTpC,EAAKsC,WAAW,CAAGf,IACnBN,EAAIb,SAAS,CAAC,QAAQC,MAAM,CAAC,QAC7B,IAAMkC,EAASC,KAAKC,GAAG,CAACzC,EAAKqC,aAAa,CAAC,EAAE,CAAErC,EAAKsC,WAAW,CAAC,EAAE,EAC5DI,EAASF,KAAKC,GAAG,CAACzC,EAAKqC,aAAa,CAAC,EAAE,CAAErC,EAAKsC,WAAW,CAAC,EAAE,EAC7CrB,EAAIJ,MAAM,CAAC,QAC7BC,IAAI,CAAC,WAAY,YACjBA,IAAI,CAAC,IAAKyB,EAASvC,EAAKnB,KAAK,CAACC,MAAM,CAACI,IAAI,EACzC4B,IAAI,CAAC,IAAK4B,GACV5B,IAAI,CAAC,QAAS0B,KAAKG,GAAG,CAAC3C,EAAKsC,WAAW,CAAC,EAAE,CAAGtC,EAAKqC,aAAa,CAAC,EAAE,GAClEvB,IAAI,CAAC,SAAU0B,KAAKG,GAAG,CAAC3C,EAAKsC,WAAW,CAAC,EAAE,CAAGtC,EAAKqC,aAAa,CAAC,EAAE,GACnEvB,IAAI,CAAC,OAAQ,4BAChBd,EAAK4C,GAAG,EACV,GAEF1B,EAAOL,MAAM,CAAC,KAAK1D,IAAI,CAAC6C,EAAKkC,KAAK,EAElClC,EAAK6C,IAAI,EACX,EAAG,IACL,CAAC,EAAA,CAAA/C,IAAAA,YAAA/D,MAED,SAAU+G,CAAK,EACb,IAAMC,EAAK,IAAI,CAAC5B,MAAM,CAAC2B,CAAK,CAAC,IAAI,CAAC3E,KAAK,CAACmB,MAAM,CAACC,CAAC,CAAC,EAC3CyD,EAAK,IAAI,CAAC3B,MAAM,CAACyB,CAAK,CAAC,IAAI,CAAC3E,KAAK,CAACmB,MAAM,CAACE,CAAC,CAAC,EAC3C/C,EAAI,IAAI,CAAC0B,KAAK,CAACmB,MAAM,CAACG,CAAC,CAAG,IAAI,CAAC6B,WAAW,CAACwB,CAAK,CAAC,IAAI,CAAC3E,KAAK,CAACmB,MAAM,CAACG,CAAC,CAAC,EAAI,EAE/E,IAAI,CAACwD,OAAO,CAACC,SAAS,GACtB,IAAI,CAACD,OAAO,CAACE,GAAG,CAACJ,EAAIC,EAAIvG,EAAG,EAAG,EAAI+F,KAAKY,EAAE,EAC1C,IAAI,CAACH,OAAO,CAACI,SAAS,GACtB,IAAI,CAACJ,OAAO,CAACK,IAAI,GACjB,IAAI,CAACL,OAAO,CAACM,MAAM,EACrB,CAAC,EAAA,CAAAzD,IAAAA,OAAA/D,MAED,WAAO,IAAAyH,EAAA,IAAA,AACL,CAAA,IAAI,CAACP,OAAO,CAAG,IAAI,CAACrC,MAAM,CAACiB,IAAI,GAAG4B,UAAU,CAAC,MAC7C,IAAI,CAACR,OAAO,CAACS,SAAS,CAAC,EAAG,EAAG,IAAI,CAACpD,IAAI,CAACG,KAAK,CAAE,IAAI,CAACH,IAAI,CAACK,MAAM,EAC9D,IAAI,CAACsC,OAAO,CAACU,SAAS,CAAG,UACzB,IAAI,CAACV,OAAO,CAACW,WAAW,CAAG,EAC3B,IAAI,CAACX,OAAO,CAACY,WAAW,CAAG,UAC3B,IAAI,CAACZ,OAAO,CAACa,WAAW,CAAG,EAEvB,AAA8B,IAA9B,IAAI,CAAC3F,KAAK,CAAC4F,OAAO,CAACC,MAAM,CAC3B,IAAI,CAACnF,KAAK,CAACM,IAAI,CAAC8E,OAAO,CAAC,SAACnB,CAAK,EAC5BU,EAAKU,SAAS,CAACpB,EACjB,GAEA,IAAI,CAACjE,KAAK,CAACM,IAAI,CAAC8E,OAAO,CAAC,SAACnB,CAAK,EACxBU,EAAKrF,KAAK,CAACgG,UAAU,CAACC,QAAQ,CAACtB,IACjCU,EAAKP,OAAO,CAACU,SAAS,CAAG,UACzBH,EAAKP,OAAO,CAACW,WAAW,CAAG,EAC3BJ,EAAKP,OAAO,CAACY,WAAW,CAAG,UAC3BL,EAAKP,OAAO,CAACa,WAAW,CAAG,IAE3BN,EAAKP,OAAO,CAACU,SAAS,CAAG,YACzBH,EAAKP,OAAO,CAACW,WAAW,CAAG,EAC3BJ,EAAKP,OAAO,CAACY,WAAW,CAAG,UAC3BL,EAAKP,OAAO,CAACa,WAAW,CAAG,IAE7BN,EAAKU,SAAS,CAACpB,EACjB,EAEJ,CAAC,EAAA,CAAAhD,IAAAA,mBAAA/D,MAED,SAAiBsI,CAAC,CAAEC,CAAK,EAEvB,IAAMC,EAAeyC,EAAG7E,MAAM,CAAC,IAAI,CAACtD,KAAK,CAACM,IAAI,CAAE,SAACE,CAAC,EAAA,OAAKA,CAAC,CAACgF,EAAE,AAAA,GACrDG,EAAiBD,AAAAA,CAAAA,CAAY,CAAC,EAAE,CAAGA,CAAY,CAAC,EAAE,AAAF,EAF/B,GASvB,OANmByC,EAChBvC,WAAW,GACXC,MAAM,CAAC,CAACH,CAAY,CAAC,EAAE,CAAGC,EACzBD,CAAY,CAAC,EAAE,CAAGC,EAAc,EACjCF,KAAK,CAACA,GACNK,IAAI,EAET,CAAC,EAAA,CAAA7E,IAAAA,MAAA/D,MAED,WACE,GAAKiL,EAAGtF,KAAK,CAACkD,SAAS,EAEvB,IAAAC,EAAiB,CAACrC,KAAKC,GAAG,CAAC,IAAI,CAACJ,aAAa,CAAC,EAAE,CAAE,IAAI,CAACC,WAAW,CAAC,EAAE,EACnEE,KAAKC,GAAG,CAAC,IAAI,CAACJ,aAAa,CAAC,EAAE,CAAE,IAAI,CAACC,WAAW,CAAC,EAAE,EAAE,CADhDwC,EAAED,CAAA,CAAFC,EAAAA,CAAIC,EAAEF,CAAA,CAAFE,EAAAA,CAEXC,EAAiB,CAACxC,KAAKyC,GAAG,CAAC,IAAI,CAAC5C,aAAa,CAAC,EAAE,CAAE,IAAI,CAACC,WAAW,CAAC,EAAE,EACnEE,KAAKyC,GAAG,CAAC,IAAI,CAAC5C,aAAa,CAAC,EAAE,CAAE,IAAI,CAACC,WAAW,CAAC,EAAE,EAAE,CADhD4C,EAAEF,CAAA,CAAFE,EAAAA,CAAIC,EAAEH,CAAA,CAAFG,EAAAA,CAGLpB,EAAU,CACd,CACEqB,GAAE,GAAApE,MAAA,CAAK,IAAI,CAAC7C,KAAK,CAACiH,EAAE,CAAA,MACpBC,MAAO,IAAI,CAAClH,KAAK,CAACkH,KAAK,CACvBC,MAAO,IAAI,CAACnH,KAAK,CAACmB,MAAM,CAACC,CAAC,CAC1BgG,UAAW,QACXC,OAAQ,CAAC,AAAA,CAAA,EAAAC,EAAAA,QAAAA,AAAAA,EAAS,IAAI,CAACtE,MAAM,CAACuE,MAAM,CAACZ,IAAM,AAAA,CAAA,EAAAW,EAAAA,QAAAA,AAAAA,EAAS,IAAI,CAACtE,MAAM,CAACuE,MAAM,CAACR,IAAvEM,AACF,EACA,CACEJ,GAAE,GAAApE,MAAA,CAAK,IAAI,CAAC7C,KAAK,CAACiH,EAAE,CAAA,MACpBC,MAAO,IAAI,CAAClH,KAAK,CAACkH,KAAK,CACvBC,MAAO,IAAI,CAACnH,KAAK,CAACmB,MAAM,CAACE,CAAC,CAC1B+F,UAAW,QACXC,OAAQ,CAAC,AAAA,CAAA,EAAAC,EAAAA,QAAAA,AAAAA,EAAS,IAAI,CAACpE,MAAM,CAACqE,MAAM,CAACP,IAAM,AAAA,CAAA,EAAAM,EAAAA,QAAAA,AAAAA,EAAS,IAAI,CAACpE,MAAM,CAACqE,MAAM,CAACX,IAAvES,AACF,EACD,CACD,IAAI,CAACrH,KAAK,CAACwH,WAAW,CAAC5B,GACzB,CAAC,EAAA,CAAAjE,IAAAA,SAAA/D,MAED,WACE,OACE8K,EAAA,OAAA,CAAAjB,aAAA,CADF,MAAA,CACOR,GAAI,IAAI,CAACjH,KAAK,CAACiH,EAAG,CAACS,IAAK,IAAI,CAAClH,IAAK,CAACmH,KAAK,SAAS/E,MAAO,CAAEN,MAAO,OAAQE,OAAQ,MAAO,CAAE,EAEnG,CAAC,EAAA,CAxM8C4G,AAAA,SAAAvL,CAAA,CAAAS,CAAA,EAAA,IAAA,IAAAC,EAAA,EAAAA,EAAAD,EAAAuH,MAAA,CAAAtH,IAAA,CAAA,IAAAlB,EAAAiB,CAAA,CAAAC,EAAA,AAAAlB,CAAAA,EAAAwK,UAAA,CAAAxK,EAAAwK,UAAA,EAAA,CAAA,EAAAxK,EAAAqE,YAAA,CAAA,CAAA,EAAA,UAAArE,GAAAA,CAAAA,EAAAoE,QAAA,CAAA,CAAA,CAAA,EAAA/D,OAAAC,cAAA,CAAAE,EAAAwL,AAAA,SAAA9K,CAAA,EAAA,IAAAU,EAAAsK,AAAA,SAAAhL,CAAA,CAAAD,CAAA,EAAA,GAAA,UAAA4K,EAAA3K,IAAA,CAAAA,EAAA,OAAAA,EAAA,IAAAV,EAAAU,CAAA,CAAAjB,OAAA0K,WAAA,CAAA,CAAA,GAAA,KAAA,IAAAnK,EAAA,CAAA,IAAAoB,EAAApB,EAAAmB,IAAA,CAAAT,EAAAD,GAAA,WAAA,GAAA,UAAA4K,EAAAjK,GAAA,OAAAA,CAAA,OAAA,AAAAkB,UAAA,+CAAA,CAAA,MAAA,AAAA,CAAA,WAAA7B,EAAA2J,OAAAC,MAAAA,EAAA3J,EAAA,EAAAA,EAAA,UAAA,MAAA,UAAA2K,EAAAjK,GAAAA,EAAAA,EAAA,EAAA,EAAA5B,EAAAsE,GAAA,EAAAtE,EAAA,CAAA,EAAAQ,AAoB9CkC,EApB8CtC,SAAA,CAAAa,GAAAZ,OAAAC,cAAA,CAoB9CoC,EApB8C,YAAA,CAAA0B,SAAA,CAAA,CAAA,GAoB9C1B,CAoLA,EAtMuCoI,EAAAA,aAAa,CAAA,EAyM1CC,SAAS,CAAG,CACvBpH,KAAMuJ,EAAAA,OAAS,CAAClC,OAAO,CAACkC,EAAAA,OAAS,CAACjC,KAAK,CAAC,CAAC,IAAIC,UAAU,CACvDvC,WAAYuE,EAAAA,OAAS,CAAClC,OAAO,CAACkC,EAAAA,OAAS,CAACjC,KAAK,CAAC,CAAC,IAAIC,UAAU,CAC7DpH,OAAQoJ,EAAAA,OAAS,CAACjC,KAAK,CAAC,CACtBlH,EAAGmJ,EAAAA,OAAS,CAAC/B,MAAM,CAACD,UAAU,CAC9BlH,EAAGkJ,EAAAA,OAAS,CAAC/B,MAAM,CAACD,UAAU,CAC9BjH,EAAGiJ,EAAAA,OAAS,CAAC/B,MAAblH,AACF,GAAGiH,UAAU,CACbtB,GAAIsD,EAAAA,OAAS,CAAC/B,MAAM,CAACD,UAAU,CAC/BrB,MAAOqD,EAAAA,OAAS,CAAC/B,MAAM,CAACD,UAAU,CAClC3C,QAAS2E,EAAAA,OAAS,CAAClC,OAAO,CAACkC,EAAAA,OAAS,CAACjC,KAAK,CAAC,CAAC,IAAIC,UAAU,CAC1Df,YAAa+C,EAAAA,OAAS,CAAC9B,IAAI,CAACF,UAA5Bf,AACF,C","sources":["<anon>","source/components/VisualTools/Chart/ScatterChart.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire94c2\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"eoPnA\", function(module, exports) {\n\"use strict\";\nfunction $a7bb2973674b6268$var$_typeof(o) {\n    \"@babel/helpers - typeof\";\n    return $a7bb2973674b6268$var$_typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o) {\n        return typeof o;\n    } : function(o) {\n        return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, $a7bb2973674b6268$var$_typeof(o);\n}\nObject.defineProperty(module.exports, \"__esModule\", {\n    value: true\n});\nmodule.exports[\"default\"] = void 0;\n\nvar $a7bb2973674b6268$var$_react = $a7bb2973674b6268$var$_interopRequireWildcard((parcelRequire(\"acw62\")));\n\nvar $a7bb2973674b6268$var$d3 = $a7bb2973674b6268$var$_interopRequireWildcard((parcelRequire(\"9NlP8\")));\n\nvar $a7bb2973674b6268$var$_propTypes = $a7bb2973674b6268$var$_interopRequireDefault((parcelRequire(\"c9Z8w\")));\n\nvar $63tWu = parcelRequire(\"63tWu\");\nfunction $a7bb2973674b6268$var$_interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n        \"default\": e\n    };\n}\nfunction $a7bb2973674b6268$var$_getRequireWildcardCache(e) {\n    if (\"function\" != typeof WeakMap) return null;\n    var r = new WeakMap(), t = new WeakMap();\n    return ($a7bb2973674b6268$var$_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n        return e ? t : r;\n    })(e);\n}\nfunction $a7bb2973674b6268$var$_interopRequireWildcard(e, r) {\n    if (!r && e && e.__esModule) return e;\n    if (null === e || \"object\" != $a7bb2973674b6268$var$_typeof(e) && \"function\" != typeof e) return {\n        \"default\": e\n    };\n    var t = $a7bb2973674b6268$var$_getRequireWildcardCache(r);\n    if (t && t.has(e)) return t.get(e);\n    var n = {\n        __proto__: null\n    }, a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for(var u in e)if (\"default\" !== u && ({}).hasOwnProperty.call(e, u)) {\n        var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n        i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n    }\n    return n[\"default\"] = e, t && t.set(e, n), n;\n}\nfunction $a7bb2973674b6268$var$_classCallCheck(a, n) {\n    if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction $a7bb2973674b6268$var$_defineProperties(e, r) {\n    for(var t = 0; t < r.length; t++){\n        var o = r[t];\n        o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, $a7bb2973674b6268$var$_toPropertyKey(o.key), o);\n    }\n}\nfunction $a7bb2973674b6268$var$_createClass(e, r, t) {\n    return r && $a7bb2973674b6268$var$_defineProperties(e.prototype, r), t && $a7bb2973674b6268$var$_defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n        writable: !1\n    }), e;\n}\nfunction $a7bb2973674b6268$var$_toPropertyKey(t) {\n    var i = $a7bb2973674b6268$var$_toPrimitive(t, \"string\");\n    return \"symbol\" == $a7bb2973674b6268$var$_typeof(i) ? i : i + \"\";\n}\nfunction $a7bb2973674b6268$var$_toPrimitive(t, r) {\n    if (\"object\" != $a7bb2973674b6268$var$_typeof(t) || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n        var i = e.call(t, r || \"default\");\n        if (\"object\" != $a7bb2973674b6268$var$_typeof(i)) return i;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n}\nfunction $a7bb2973674b6268$var$_callSuper(t, o, e) {\n    return o = $a7bb2973674b6268$var$_getPrototypeOf(o), $a7bb2973674b6268$var$_possibleConstructorReturn(t, $a7bb2973674b6268$var$_isNativeReflectConstruct() ? Reflect.construct(o, e || [], $a7bb2973674b6268$var$_getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction $a7bb2973674b6268$var$_possibleConstructorReturn(t, e) {\n    if (e && (\"object\" == $a7bb2973674b6268$var$_typeof(e) || \"function\" == typeof e)) return e;\n    if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n    return $a7bb2973674b6268$var$_assertThisInitialized(t);\n}\nfunction $a7bb2973674b6268$var$_assertThisInitialized(e) {\n    if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return e;\n}\nfunction $a7bb2973674b6268$var$_isNativeReflectConstruct() {\n    try {\n        var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n    } catch (t) {}\n    return ($a7bb2973674b6268$var$_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n        return !!t;\n    })();\n}\nfunction $a7bb2973674b6268$var$_getPrototypeOf(t) {\n    return $a7bb2973674b6268$var$_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {\n        return t.__proto__ || Object.getPrototypeOf(t);\n    }, $a7bb2973674b6268$var$_getPrototypeOf(t);\n}\nfunction $a7bb2973674b6268$var$_inherits(t, e) {\n    if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n    t.prototype = Object.create(e && e.prototype, {\n        constructor: {\n            value: t,\n            writable: !0,\n            configurable: !0\n        }\n    }), Object.defineProperty(t, \"prototype\", {\n        writable: !1\n    }), e && $a7bb2973674b6268$var$_setPrototypeOf(t, e);\n}\nfunction $a7bb2973674b6268$var$_setPrototypeOf(t, e) {\n    return $a7bb2973674b6268$var$_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t, e) {\n        return t.__proto__ = e, t;\n    }, $a7bb2973674b6268$var$_setPrototypeOf(t, e);\n}\nvar $a7bb2973674b6268$var$ScatterChart = module.exports[\"default\"] = /*#__PURE__*/ function(_PureComponent) {\n    function ScatterChart(props) {\n        var _this;\n        $a7bb2973674b6268$var$_classCallCheck(this, ScatterChart);\n        _this = $a7bb2973674b6268$var$_callSuper(this, ScatterChart, [\n            props\n        ]);\n        _this.self = /*#__PURE__*/ $a7bb2973674b6268$var$_react[\"default\"].createRef();\n        _this.state = {\n            margin: {\n                top: 5,\n                right: 10,\n                bottom: 25,\n                left: 25\n            }\n        };\n        _this.state.data = _this.props.data.filter(function(d) {\n            return d[_this.props.fields.x] !== 'N/A' && d[_this.props.fields.y] !== 'N/A' && d[_this.props.fields.z] !== 'N/A';\n        });\n        return _this;\n    }\n    $a7bb2973674b6268$var$_inherits(ScatterChart, _PureComponent);\n    return $a7bb2973674b6268$var$_createClass(ScatterChart, [\n        {\n            key: \"componentDidMount\",\n            value: function componentDidMount() {\n                this.componentDidUpdate();\n            }\n        },\n        {\n            key: \"componentDidUpdate\",\n            value: function componentDidUpdate() {\n                var _this2 = this;\n                setTimeout(function() {\n                    $a7bb2973674b6268$var$d3.select(_this2.self.current).selectAll('canvas').remove('canvas');\n                    $a7bb2973674b6268$var$d3.select(_this2.self.current).selectAll('svg').remove('svg');\n                    _this2.rect = _this2.self.current.getBoundingClientRect();\n                    var innerWidth = _this2.rect.width - _this2.state.margin.left - _this2.state.margin.right;\n                    var innerHeight = _this2.rect.height - _this2.state.margin.top - _this2.state.margin.bottom;\n                    _this2.canvas = $a7bb2973674b6268$var$d3.select(_this2.self.current).append('canvas').attr('width', innerWidth).attr('height', innerHeight).style('transform', \"translate(\".concat(_this2.state.margin.left, \"px,\").concat(_this2.state.margin.top, \"px)\"));\n                    // create svg\n                    var svg = $a7bb2973674b6268$var$d3.select(_this2.self.current).append('svg').attr('width', _this2.rect.width).attr('height', _this2.rect.height).attr('transform', \"translate(\".concat(0, \",\", -innerHeight, \")\"));\n                    // create viewer\n                    var viewer = svg.append('g').attr('transform', \"translate(\".concat(_this2.state.margin.left, \",0)\"));\n                    //\n                    _this2.xScale = _this2.createScaleLiner(_this2.props.fields.x, [\n                        0,\n                        innerWidth\n                    ]);\n                    _this2.yScale = _this2.createScaleLiner(_this2.props.fields.y, [\n                        innerHeight,\n                        0\n                    ]);\n                    _this2.radiusScale = _this2.createScaleLiner(_this2.props.fields.z, [\n                        3,\n                        10\n                    ]);\n                    var getCurrentMouseClickPosition = function getCurrentMouseClickPosition() {\n                        console.log(svg);\n                        var mouseX = $a7bb2973674b6268$var$d3.event.sourceEvent.clientX - svg.node().getBoundingClientRect().x - _this2.state.margin.left;\n                        var mouseY = $a7bb2973674b6268$var$d3.event.sourceEvent.clientY - svg.node().getBoundingClientRect().y;\n                        return [\n                            mouseX,\n                            mouseY\n                        ];\n                    };\n                    viewer.append('g').attr('transform', \"translate(0,\".concat(innerHeight, \")\")).call($a7bb2973674b6268$var$d3.axisBottom(_this2.xScale).tickSize(-innerHeight));\n                    // add the y Axis\n                    viewer.append('g').call($a7bb2973674b6268$var$d3.axisLeft(_this2.yScale).tickSize(-innerWidth));\n                    _this2.brush = $a7bb2973674b6268$var$d3.brush().extent([\n                        [\n                            0,\n                            0\n                        ],\n                        [\n                            innerWidth,\n                            innerHeight\n                        ]\n                    ]).on('start', function() {\n                        _this2.startPosition = getCurrentMouseClickPosition();\n                    }).on('brush', function() {\n                        _this2.endPosition = getCurrentMouseClickPosition();\n                        svg.selectAll('rect').remove('rect');\n                        var startX = Math.min(_this2.startPosition[0], _this2.endPosition[0]);\n                        var startY = Math.min(_this2.startPosition[1], _this2.endPosition[1]);\n                        var selectedArea = svg.append('rect').attr('position', 'absolute').attr('x', startX + _this2.state.margin.left).attr('y', startY).attr('width', Math.abs(_this2.endPosition[0] - _this2.startPosition[0])).attr('height', Math.abs(_this2.endPosition[1] - _this2.startPosition[1])).attr('fill', 'rgba(211, 211, 211, 0.5)');\n                    }).on('end', function() {\n                        _this2.endPosition = getCurrentMouseClickPosition();\n                        svg.selectAll('rect').remove('rect');\n                        var startX = Math.min(_this2.startPosition[0], _this2.endPosition[0]);\n                        var startY = Math.min(_this2.startPosition[1], _this2.endPosition[1]);\n                        var selectedArea = svg.append('rect').attr('position', 'absolute').attr('x', startX + _this2.state.margin.left).attr('y', startY).attr('width', Math.abs(_this2.endPosition[0] - _this2.startPosition[0])).attr('height', Math.abs(_this2.endPosition[1] - _this2.startPosition[1])).attr('fill', 'rgba(211, 211, 211, 0.5)');\n                        _this2.end();\n                    });\n                    viewer.append('g').call(_this2.brush);\n                    _this2.draw();\n                }, 100);\n            }\n        },\n        {\n            key: \"drawPoint\",\n            value: function drawPoint(point) {\n                var cx = this.xScale(point[this.props.fields.x]);\n                var cy = this.yScale(point[this.props.fields.y]);\n                var r = this.props.fields.z ? this.radiusScale(point[this.props.fields.z]) : 3;\n                this.context.beginPath();\n                this.context.arc(cx, cy, r, 0, 2 * Math.PI);\n                this.context.closePath();\n                this.context.fill();\n                this.context.stroke();\n            }\n        },\n        {\n            key: \"draw\",\n            value: function draw() {\n                var _this3 = this;\n                this.context = this.canvas.node().getContext('2d');\n                this.context.clearRect(0, 0, this.rect.width, this.rect.height);\n                this.context.fillStyle = '#87CEEB';\n                this.context.strokeWidth = 1;\n                this.context.strokeStyle = '#4682B4';\n                this.context.globalAlpha = 1;\n                if (this.props.filters.length === 0) this.state.data.forEach(function(point) {\n                    _this3.drawPoint(point);\n                });\n                else this.state.data.forEach(function(point) {\n                    if (_this3.props.filterData.includes(point)) {\n                        _this3.context.fillStyle = '#87CEEB';\n                        _this3.context.strokeWidth = 1;\n                        _this3.context.strokeStyle = '#4682B4';\n                        _this3.context.globalAlpha = 1;\n                    } else {\n                        _this3.context.fillStyle = '#c0c0c0c0';\n                        _this3.context.strokeWidth = 1;\n                        _this3.context.strokeStyle = '#000000';\n                        _this3.context.globalAlpha = 0.2;\n                    }\n                    _this3.drawPoint(point);\n                });\n            }\n        },\n        {\n            key: \"createScaleLiner\",\n            value: function createScaleLiner(f, range) {\n                var paddingPercent = 0.1; // Adjust the percentage of padding as needed\n                var domainExtent = $a7bb2973674b6268$var$d3.extent(this.state.data, function(d) {\n                    return d[f];\n                });\n                var domainPadding = (domainExtent[1] - domainExtent[0]) * paddingPercent;\n                var scaleLiner = $a7bb2973674b6268$var$d3.scaleLinear().domain([\n                    domainExtent[0] - domainPadding,\n                    domainExtent[1] + domainPadding\n                ]).range(range).nice();\n                return scaleLiner;\n            }\n        },\n        {\n            key: \"end\",\n            value: function end() {\n                if (!$a7bb2973674b6268$var$d3.event.selection) return;\n                var _ref = [\n                    Math.min(this.startPosition[0], this.endPosition[0]),\n                    Math.min(this.startPosition[1], this.endPosition[1])\n                ], x0 = _ref[0], y0 = _ref[1];\n                var _ref2 = [\n                    Math.max(this.startPosition[0], this.endPosition[0]),\n                    Math.max(this.startPosition[1], this.endPosition[1])\n                ], x1 = _ref2[0], y1 = _ref2[1];\n                var filters = [\n                    {\n                        id: \"\".concat(this.props.id, \"_x\"),\n                        title: this.props.title,\n                        field: this.props.fields.x,\n                        operation: 'range',\n                        values: [\n                            (0, $63tWu.numFixed)(this.xScale.invert(x0)),\n                            (0, $63tWu.numFixed)(this.xScale.invert(x1))\n                        ]\n                    },\n                    {\n                        id: \"\".concat(this.props.id, \"_y\"),\n                        title: this.props.title,\n                        field: this.props.fields.y,\n                        operation: 'range',\n                        values: [\n                            (0, $63tWu.numFixed)(this.yScale.invert(y1)),\n                            (0, $63tWu.numFixed)(this.yScale.invert(y0))\n                        ]\n                    }\n                ];\n                this.props.filterAdded(filters);\n            }\n        },\n        {\n            key: \"render\",\n            value: function render() {\n                return /*#__PURE__*/ $a7bb2973674b6268$var$_react[\"default\"].createElement(\"div\", {\n                    id: this.props.id,\n                    ref: this.self,\n                    role: \"figure\",\n                    style: {\n                        width: '100%',\n                        height: '100%'\n                    }\n                });\n            }\n        }\n    ]);\n}($a7bb2973674b6268$var$_react.PureComponent);\n$a7bb2973674b6268$var$ScatterChart.propTypes = {\n    data: $a7bb2973674b6268$var$_propTypes[\"default\"].arrayOf($a7bb2973674b6268$var$_propTypes[\"default\"].shape({})).isRequired,\n    filterData: $a7bb2973674b6268$var$_propTypes[\"default\"].arrayOf($a7bb2973674b6268$var$_propTypes[\"default\"].shape({})).isRequired,\n    fields: $a7bb2973674b6268$var$_propTypes[\"default\"].shape({\n        x: $a7bb2973674b6268$var$_propTypes[\"default\"].string.isRequired,\n        y: $a7bb2973674b6268$var$_propTypes[\"default\"].string.isRequired,\n        z: $a7bb2973674b6268$var$_propTypes[\"default\"].string\n    }).isRequired,\n    id: $a7bb2973674b6268$var$_propTypes[\"default\"].string.isRequired,\n    title: $a7bb2973674b6268$var$_propTypes[\"default\"].string.isRequired,\n    filters: $a7bb2973674b6268$var$_propTypes[\"default\"].arrayOf($a7bb2973674b6268$var$_propTypes[\"default\"].shape({})).isRequired,\n    filterAdded: $a7bb2973674b6268$var$_propTypes[\"default\"].func.isRequired\n};\n\n});\n\n\n//# sourceMappingURL=ScatterChart.d33f8222.js.map\n","import React, { PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { numFixed } from '../../../common/utils';\n\nexport default class ScatterChart extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.self = React.createRef();\n    this.state = {\n      margin: {\n        top: 5,\n        right: 10,\n        bottom: 25,\n        left: 25,\n      },\n    };\n    this.state.data = this.props.data.filter(\n      (d) => d[this.props.fields.x] !== 'N/A'\n        && d[this.props.fields.y] !== 'N/A'\n        && d[this.props.fields.z] !== 'N/A',\n    );\n  }\n\n  componentDidMount() {\n    this.componentDidUpdate();\n  }\n\n  componentDidUpdate() {\n    setTimeout(() => {\n      d3.select(this.self.current).selectAll('canvas').remove('canvas');\n      d3.select(this.self.current).selectAll('svg').remove('svg');\n      this.rect = this.self.current.getBoundingClientRect();\n      const innerWidth = this.rect.width - this.state.margin.left - this.state.margin.right;\n      const innerHeight = this.rect.height - this.state.margin.top - this.state.margin.bottom;\n\n      this.canvas = d3\n        .select(this.self.current)\n        .append('canvas')\n        .attr('width', innerWidth)\n        .attr('height', innerHeight)\n        .style('transform', `translate(${this.state.margin.left}px,${this.state.margin.top}px)`);\n\n      // create svg\n      const svg = d3\n        .select(this.self.current)\n        .append('svg')\n        .attr('width', this.rect.width)\n        .attr('height', this.rect.height)\n        .attr('transform', `translate(${0},${-innerHeight})`);\n\n      // create viewer\n      const viewer = svg\n        .append('g')\n        .attr('transform', `translate(${this.state.margin.left},0)`);\n\n      //\n      this.xScale = this.createScaleLiner(this.props.fields.x, [0, innerWidth]);\n      this.yScale = this.createScaleLiner(this.props.fields.y, [innerHeight, 0]);\n      this.radiusScale = this.createScaleLiner(this.props.fields.z, [3, 10]);\n      const getCurrentMouseClickPosition = () => {\n        console.log(svg);\n        const mouseX = d3.event.sourceEvent.clientX - svg.node().getBoundingClientRect().x\n        - this.state.margin.left;\n        const mouseY = d3.event.sourceEvent.clientY - svg.node().getBoundingClientRect().y;\n        return [mouseX, mouseY];\n      };\n      viewer\n        .append('g')\n        .attr('transform', `translate(0,${innerHeight})`)\n        .call(d3.axisBottom(this.xScale).tickSize(-innerHeight));\n\n      // add the y Axis\n      viewer.append('g').call(d3.axisLeft(this.yScale).tickSize(-innerWidth));\n\n      this.brush = d3\n        .brush()\n        .extent([\n          [0, 0],\n          [innerWidth, innerHeight],\n        ]).on('start', () => {\n          this.startPosition = getCurrentMouseClickPosition();\n        }).on('brush', () => {\n          this.endPosition = getCurrentMouseClickPosition();\n          svg.selectAll('rect').remove('rect');\n          const startX = Math.min(this.startPosition[0], this.endPosition[0]);\n          const startY = Math.min(this.startPosition[1], this.endPosition[1]);\n          const selectedArea = svg.append('rect')\n            .attr('position', 'absolute')\n            .attr('x', startX + this.state.margin.left)\n            .attr('y', startY)\n            .attr('width', Math.abs(this.endPosition[0] - this.startPosition[0]))\n            .attr('height', Math.abs(this.endPosition[1] - this.startPosition[1]))\n            .attr('fill', 'rgba(211, 211, 211, 0.5)');\n        })\n        .on('end', () => {\n          this.endPosition = getCurrentMouseClickPosition();\n          svg.selectAll('rect').remove('rect');\n          const startX = Math.min(this.startPosition[0], this.endPosition[0]);\n          const startY = Math.min(this.startPosition[1], this.endPosition[1]);\n          const selectedArea = svg.append('rect')\n            .attr('position', 'absolute')\n            .attr('x', startX + this.state.margin.left)\n            .attr('y', startY)\n            .attr('width', Math.abs(this.endPosition[0] - this.startPosition[0]))\n            .attr('height', Math.abs(this.endPosition[1] - this.startPosition[1]))\n            .attr('fill', 'rgba(211, 211, 211, 0.5)');\n          this.end();\n        });\n\n      viewer.append('g').call(this.brush);\n\n      this.draw();\n    }, 100);\n  }\n\n  drawPoint(point) {\n    const cx = this.xScale(point[this.props.fields.x]);\n    const cy = this.yScale(point[this.props.fields.y]);\n    const r = this.props.fields.z ? this.radiusScale(point[this.props.fields.z]) : 3;\n\n    this.context.beginPath();\n    this.context.arc(cx, cy, r, 0, 2 * Math.PI);\n    this.context.closePath();\n    this.context.fill();\n    this.context.stroke();\n  }\n\n  draw() {\n    this.context = this.canvas.node().getContext('2d');\n    this.context.clearRect(0, 0, this.rect.width, this.rect.height);\n    this.context.fillStyle = '#87CEEB';\n    this.context.strokeWidth = 1;\n    this.context.strokeStyle = '#4682B4';\n    this.context.globalAlpha = 1;\n\n    if (this.props.filters.length === 0) {\n      this.state.data.forEach((point) => {\n        this.drawPoint(point);\n      });\n    } else {\n      this.state.data.forEach((point) => {\n        if (this.props.filterData.includes(point)) {\n          this.context.fillStyle = '#87CEEB';\n          this.context.strokeWidth = 1;\n          this.context.strokeStyle = '#4682B4';\n          this.context.globalAlpha = 1;\n        } else {\n          this.context.fillStyle = '#c0c0c0c0';\n          this.context.strokeWidth = 1;\n          this.context.strokeStyle = '#000000';\n          this.context.globalAlpha = 0.2;\n        }\n        this.drawPoint(point);\n      });\n    }\n  }\n\n  createScaleLiner(f, range) {\n    const paddingPercent = 0.1; // Adjust the percentage of padding as needed\n    const domainExtent = d3.extent(this.state.data, (d) => d[f]);\n    const domainPadding = (domainExtent[1] - domainExtent[0]) * paddingPercent;\n    const scaleLiner = d3\n      .scaleLinear()\n      .domain([domainExtent[0] - domainPadding,\n        domainExtent[1] + domainPadding])\n      .range(range)\n      .nice();\n    return scaleLiner;\n  }\n\n  end() {\n    if (!d3.event.selection) return;\n\n    const [x0, y0] = [Math.min(this.startPosition[0], this.endPosition[0]),\n      Math.min(this.startPosition[1], this.endPosition[1])];\n    const [x1, y1] = [Math.max(this.startPosition[0], this.endPosition[0]),\n      Math.max(this.startPosition[1], this.endPosition[1])];\n\n    const filters = [\n      {\n        id: `${this.props.id}_x`,\n        title: this.props.title,\n        field: this.props.fields.x,\n        operation: 'range',\n        values: [numFixed(this.xScale.invert(x0)), numFixed(this.xScale.invert(x1))],\n      },\n      {\n        id: `${this.props.id}_y`,\n        title: this.props.title,\n        field: this.props.fields.y,\n        operation: 'range',\n        values: [numFixed(this.yScale.invert(y1)), numFixed(this.yScale.invert(y0))],\n      },\n    ];\n    this.props.filterAdded(filters);\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} ref={this.self} role=\"figure\" style={{ width: '100%', height: '100%' }} />\n    );\n  }\n}\n\nScatterChart.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  filterData: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  fields: PropTypes.shape({\n    x: PropTypes.string.isRequired,\n    y: PropTypes.string.isRequired,\n    z: PropTypes.string,\n  }).isRequired,\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  filters: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  filterAdded: PropTypes.func.isRequired,\n};\n"],"names":["parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","$a7bb2973674b6268$var$_typeof","o","Symbol","iterator","constructor","prototype","Object","defineProperty","value","e","$a7bb2973674b6268$var$_react","$a7bb2973674b6268$var$_interopRequireWildcard","$a7bb2973674b6268$var$d3","$a7bb2973674b6268$var$_propTypes","__esModule","$63tWu","$a7bb2973674b6268$var$_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","$a7bb2973674b6268$var$_isNativeReflectConstruct","Boolean","valueOf","Reflect","construct","$a7bb2973674b6268$var$_getPrototypeOf","setPrototypeOf","getPrototypeOf","bind","$a7bb2973674b6268$var$_setPrototypeOf","$a7bb2973674b6268$var$ScatterChart","_PureComponent","ScatterChart","props","_this","$a7bb2973674b6268$var$_classCallCheck","TypeError","$a7bb2973674b6268$var$_possibleConstructorReturn","$a7bb2973674b6268$var$_assertThisInitialized","ReferenceError","apply","self","createRef","state","margin","top","right","bottom","left","data","filter","d","fields","x","y","z","$a7bb2973674b6268$var$_inherits","create","writable","configurable","key","componentDidUpdate","_this2","setTimeout","select","current","selectAll","remove","rect","getBoundingClientRect","innerWidth","width","innerHeight","height","canvas","append","attr","style","concat","svg","viewer","xScale","createScaleLiner","yScale","radiusScale","getCurrentMouseClickPosition","console","log","event","sourceEvent","clientX","node","clientY","axisBottom","tickSize","axisLeft","brush","extent","on","startPosition","endPosition","startX","Math","min","startY","abs","end","draw","point","cx","cy","context","beginPath","arc","PI","closePath","fill","stroke","_this3","getContext","clearRect","fillStyle","strokeWidth","strokeStyle","globalAlpha","filters","length","forEach","drawPoint","filterData","includes","f","range","domainExtent","domainPadding","scaleLinear","domain","nice","selection","_ref","x0","y0","_ref2","max","x1","y1","id","title","field","operation","values","numFixed","invert","filterAdded","createElement","ref","role","$a7bb2973674b6268$var$_defineProperties","enumerable","$a7bb2973674b6268$var$_toPropertyKey","$a7bb2973674b6268$var$_toPrimitive","toPrimitive","String","Number","PureComponent","propTypes","arrayOf","shape","isRequired","string","func","_react","_interopRequireWildcard","require","d3","_propTypes","_interopRequireDefault","_utils","_getRequireWildcardCache","_typeof","_classCallCheck","_defineProperties","_toPropertyKey","_createClass","_toPrimitive","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","_assertThisInitialized","_inherits","_setPrototypeOf","React","componentDidMount","mouseX","mouseY","selectedArea","paddingPercent","scaleLiner","render","PropTypes"],"version":3,"file":"ScatterChart.d33f8222.js.map"}