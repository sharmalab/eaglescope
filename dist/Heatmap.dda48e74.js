function e(e){return e&&e.__esModule?e.default:e}function t(e,t,i,r){Object.defineProperty(e,t,{get:i,set:r,enumerable:!0,configurable:!0})}var i=globalThis.parcelRequire94c2,r=i.register;r("fd07Q",function(r,l){Object.defineProperty(r.exports,"__esModule",{value:!0,configurable:!0}),t(r.exports,"default",()=>f);var s=i("acw62"),a=i("9NlP8"),d=i("c9Z8w"),n=i("63tWu"),o=i("bN8Lq");function u(t){let i=(0,s.useRef)(),r={x:a.scaleBand(),y:a.scaleBand(),color:a.scaleSequential()},l=a.map(t.data,e=>e[t.fields.x]).keys(),d=a.map(t.data,e=>e[t.fields.y]).keys();return(0,s.useEffect)(()=>{setTimeout(()=>{a.select(i.current).select(".tooltip").remove("div"),a.select(i.current).selectAll("svg").remove("svg");let e=i.current.getBoundingClientRect(),s=e.width-60-10,u=e.height-10-30,{data:f}=t;0!==t.filters.length&&(f=t.filterData);let c=a.select(i.current).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate(60,10)");r.x.range([0,s]).domain(l).padding(.05),c.append("g").style("font-size",13).attr("transform",`translate(0,${u})`).call(a.axisBottom(r.x).tickSize(0)).select(".domain").remove(),r.y.range([u,0]).domain(d).padding(.05),c.append("g").style("font-size",13).call(a.axisLeft(r.y).tickSize(0)).select(".domain").remove(),r.color.interpolator(a.interpolateInferno).domain(a.extent(t.data,e=>e[t.fields.z]));let p=(0,o.default)(i.current,e=>`The ${t.fields.z} of this 
      cell is: ${(0,n.numFixed)(e.z?e.z:0)}`,{x:80,y:0}),y=[];l.forEach(e=>d.forEach(i=>{let r=f.filter(r=>r[t.fields.x]===e&&r[t.fields.y]===i);y.push({g:e,v:i,z:a.mean(r,e=>e[t.fields.z])})})),c.selectAll().data(y,e=>`${e.g}:${e.v}`).enter().append("rect").attr("x",e=>r.x(e.g)).attr("y",e=>r.y(e.v)).attr("rx",4).attr("ry",4).attr("width",r.x.bandwidth()).attr("height",r.y.bandwidth()).style("fill",e=>r.color(e.z)).style("stroke-width",4).style("stroke","none").style("opacity",.8).on("mousemove",p.mousemove).on("mouseleave",p.mouseleave).on("click",e=>{let i=[{id:`${t.id}_x`,title:t.title,field:t.fields.x,operation:"in",values:[e.g]},{id:`${t.id}_y`,title:t.title,field:t.fields.y,operation:"in",values:[e.v]}];t.filterAdded(i)})},100)},[t.layout,t.filters,t.filterData]),e(s).createElement("div",{id:t.id,ref:i,role:"figure",style:{width:"100%",height:"100%"}})}var f=u;u.propTypes={id:e(d).string.isRequired,title:e(d).string.isRequired,data:e(d).arrayOf(e(d).shape({})).isRequired,fields:e(d).shape({x:e(d).string.isRequired,y:e(d).string.isRequired,z:e(d).string.isRequired}).isRequired,filterData:e(d).arrayOf(e(d).shape({})).isRequired,filters:e(d).arrayOf(e(d).shape({})).isRequired,layout:e(d).shape({width:e(d).number.isRequired,currentCols:e(d).number.isRequired}).isRequired,filterAdded:e(d).func.isRequired}}),r("bN8Lq",function(e,r){t(e.exports,"default",()=>s);var l=i("9NlP8"),s=function(e,t,i){let r=l.select(e).append("div").style("opacity",1).attr("class","tooltip").style("display","none").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");return{mousemove:function(e){r.html(t(e)).style("display","").style("left",`${i.x+l.mouse(this)[0]}px`).style("top",`${i.y+l.mouse(this)[1]}px`)},mouseleave:function(){r.style("display","none")}}}});
//# sourceMappingURL=Heatmap.dda48e74.js.map
