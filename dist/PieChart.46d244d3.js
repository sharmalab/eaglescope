var e=globalThis.parcelRequire94c2,t=e.register;t("528GW",function(t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var a=c(e("acw62")),o=c(e("9NlP8")),i=l(e("c9Z8w")),u=l(e("bN8Lq"));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&({}).hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}function s(e){var t=(0,a.useRef)(),r=o.nest().key(function(t){return t[e.fields.x]}).rollup(function(e){return e.length}).entries(e.data),n=o.sum(r,function(e){return e.value}),i=o.pie().sortValues(function(e,t){return t-e}).value(function(e){return e.value})(r);return(0,a.useEffect)(function(){setTimeout(function(){o.select(t.current).select(".tooltip").remove(".tooltip"),o.select(t.current).selectAll("svg").remove("svg");var a=t.current.getBoundingClientRect(),l=a.width-5-5,f=a.height-5-5,c=Math.min(l,f)/2,s=o.arc().innerRadius(0).outerRadius(c),d=o.scaleOrdinal().domain(r.map(function(e){return e.key})).range(o.quantize(function(e){return o.interpolateSpectral(e)},r.length)),p=o.select(t.current).append("svg").attr("width",a.width).attr("height",a.height),y=p.append("g").attr("transform","translate(".concat(l/2+5,",").concat(f/2+5,")"));if(l>500){var h=p.selectAll(".legend").data(i).enter().append("g").attr("transform",function(e,t){return"translate(".concat(l-110,",").concat(15*t+20,")")}).attr("class","legend");h.append("rect").attr("width",13).attr("height",13).attr("fill",function(e,t){return d(t)}).attr("stroke","grey").style("stroke-width","1px"),h.append("text").text(function(e){return"".concat(e.value,"  ").concat(e.data.key)}).style("font-size",15).attr("y",13).attr("x",15)}var v={x:a.width/2+20,y:a.height/2},m=(0,u.default)(t.current,function(e){return"Class: ".concat(e.data.key," Count: ").concat(e.data.value," \n      Percentage: ").concat(o.format(".0%")(e.data.value/n))},v),g=y.selectAll("path").data(i).join("path").attr("class","slide").attr("fill",function(e){return d(e.data.key)}).attr("d",s).on("mousemove",m.mousemove).on("mouseleave",m.mouseleave).on("click",function(t){t.data.selected=!t.data.selected;var n=r.reduce(function(e,t){return t.selected&&e.push(t.key),e},[]);if(n.length>0){var a={id:e.id,title:e.title,field:e.fields.x,operation:"in",values:n};e.filterAdded([a])}else e.filterRemove(e.id)}),b=e.filters.filter(function(t){return t.id===e.id});b.length>0&&b[0].values.forEach(function(e){r.forEach(function(t){t.key===e&&(t.selected=!0)})}),b.length>0?g.attr("fill",function(e){return e.data.selected?d(e.data.key):"#C0C0C0"}).attr("fill-opacity",function(e){return e.data.selected?1:.5}).attr("stroke","#CCCCCC").attr("stroke-width",function(e){return e.data.selected?3:0}):(r.forEach(function(e){e.selected=!1}),g.attr("fill",function(e){return d(e.data.key)}).attr("fill-opacity",1).attr("stroke","none"))},100)},[e.layout,e.filters]),a.default.createElement("div",{style:{width:"100%",height:"100%"}},a.default.createElement("div",{role:"figure",id:e.id,ref:t,style:{width:"100%",height:"100%"}}))}t.exports.default=s,s.propTypes={data:i.default.arrayOf(i.default.shape({})).isRequired,fields:i.default.shape({x:i.default.string.isRequired}).isRequired,id:i.default.string.isRequired,title:i.default.string.isRequired,filters:i.default.arrayOf(i.default.shape({})).isRequired,filterAdded:i.default.func.isRequired,filterRemove:i.default.func.isRequired,layout:i.default.shape({width:i.default.number.isRequired,currentCols:i.default.number.isRequired}).isRequired}}),t("bN8Lq",function(t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&({}).hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}(e("9NlP8"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.exports.default=function(e,t,r){var n=a.select(e).append("div").style("opacity",1).attr("class","tooltip").style("display","none").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");return{mousemove:function(e){n.html(t(e)).style("display","").style("left","".concat(r.x+a.mouse(this)[0],"px")).style("top","".concat(r.y+a.mouse(this)[1],"px"))},mouseleave:function(){n.style("display","none")}}}});
//# sourceMappingURL=PieChart.46d244d3.js.map
