function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequire94c2;(0,t.register)("92AJR",function(a,r){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(a.exports,"default",{get:()=>u,set:void 0,enumerable:!0,configurable:!0});var i=t("acw62"),s=t("9NlP8"),n=t("c9Z8w"),l=t("63tWu");function d({data:t,fields:a,id:r,binsCount:n=10,filterData:d,filters:u,filterAdded:o,layout:c}){let h=(0,i.useRef)(),[f]=(0,i.useState)({x:s.scaleLinear(),y:s.scaleLinear()}),[g]=(0,i.useState)({hist:s.histogram(),bins:null});return(0,i.useEffect)(()=>{setTimeout(()=>{s.select(h.current).selectAll("svg").remove("svg");let e=h.current.getBoundingClientRect(),i=e.width-40-10,d=e.height-10-30,u=s.select(h.current).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate(40,10)");f.x.domain([0,s.max(t,e=>e[a.x])]).range([0,i]),g.hist.value(e=>e[a.x]).domain(f.x.domain()).thresholds(f.x.ticks(n)),g.bins=g.hist(t),f.y=s.scaleLinear().range([d,0]).domain([0,s.max(g.bins,e=>e.length)]);let c=s.brushX().extent([[0,0],[i,d]]).on("end",()=>{if(s.event.selection){let[e,t]=[s.event.selection[0],s.event.selection[1]];o([{id:r,field:a.x,operation:"range",values:[(0,l.numFixed)(f.x.invert(e)),(0,l.numFixed)(f.x.invert(t))]}])}});u.append("g").call(c),u.append("g").attr("transform",`translate(0,${d})`).call(s.axisBottom(f.x)),u.append("g").call(s.axisLeft(f.y)).append("g").attr("class","hist-area").selectAll(".bar").data(g.bins).join("rect").attr("class","bar").attr("x",1).attr("transform",e=>`translate(${f.x(e.x0)},${f.y(e.length)})`).attr("width",e=>Math.max(f.x(e.x1)-f.x(e.x0)-1,0)).attr("height",e=>d-f.y(e.length)).style("fill","#87CEFA")},100)},[c]),(0,i.useEffect)(()=>{setTimeout(()=>{let e=h.current.getBoundingClientRect().height-10-30,{bins:t}=g;0!==u.length&&(t=g.hist(d)),s.select(h.current).selectAll(".hist-area").selectAll(".bar-f").data(t).join("rect").attr("class","bar-f").style("transform","scale(1, -1)").attr("x",e=>f.x(e.x0)).attr("y",()=>-e).transition().duration(1e3).attr("width",e=>Math.max(f.x(e.x1)-f.x(e.x0)-1,0)).attr("height",t=>e-f.y(t.length)).style("fill","#4682B4")},100)},[u,d,c]),e(i).createElement("div",{id:r,ref:h,role:"figure",style:{width:"100%",height:"100%"}})}var u=d;d.propTypes={data:e(n).arrayOf(e(n).shape({})).isRequired,fields:e(n).shape({x:e(n).string.isRequired}).isRequired,id:e(n).string.isRequired,binsCount:e(n).number,filterData:e(n).arrayOf(e(n).shape({})).isRequired,filters:e(n).arrayOf(e(n).shape({})).isRequired,filterAdded:e(n).func.isRequired,layout:e(n).shape({width:e(n).number.isRequired,currentCols:e(n).number.isRequired}).isRequired},d.defaultProps={binsCount:10}});
//# sourceMappingURL=Histogram.e958a476.js.map
