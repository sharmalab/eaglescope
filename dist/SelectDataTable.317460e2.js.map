{"version":3,"sources":["components/VisualTools/VisDataTable/SelectDataTable.js"],"names":["_react","_interopRequireWildcard","require","_reactVirtualized","_reactDraggable","_interopRequireDefault","_reactFontawesome","_freeSolidSvgIcons","_arrayMove","_propTypes","_VisDataTableControl","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_typeof","o","Symbol","iterator","constructor","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Array","from","isArray","_arrayLikeToArray","_createForOfIteratorHelper","allowArrayLike","it","length","F","s","done","value","_e","f","normalCompletion","didErr","err","step","next","_e2","return","minLen","toString","slice","name","test","len","arr2","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","key","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","bind","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","getPrototypeOf","cellRenderer","d","urlElt","link","url","field","urlbase","createElement","href","rowData","cellData","join","Fragment","dataKey","className","title","rowClassName","_ref","index","SelectDataTable","exports","_PureComponent","_super","_this","console","log","fWidth","fields","map","width","isShow","state","sortBy","sortDirection","selected","autoSizer","React","createRef","headerRenderer","resizeRow","onResize","onSortEnd","onCheckChangedHandler","onAllCheckHandler","sortHandler","getSortData","_ref2","setState","_ref3","oldIndex","newIndex","_ref4","arrayMove","checked","_ref5","_ref6","downloadSelected","downloadLimit","configProps","data","alert","limitedData","_iterator","_step","record","downloadField","fetch","mode","then","x","json","slide_url","window","location","protocol","replace","iframe","document","setAttribute","src","body","appendChild","catch","error","_this$props","filterData","filters","_this$state","currentData","sort","b","first","SortDirection","ASC","second","_ref7","deltaX","prevFields","idx","findIndex","percentDelta","_ref8","_this2","label","FontAwesomeIcon","icon","DESC","faSortDown","faSortUp","faSort","axis","defaultClassName","defaultClassNameDragging","onDrag","event","_ref9","position","zIndex","selectionHandler","isChecked","existingIndex","item","prevState","concat","_ref10","render","_this3","_this$state2","finalData","style","height","list","onCheckChanged","onAllCheck","AutoSizer","ref","_ref11","Table","headerHeight","rowHeight","rowCount","rowGetter","_ref12","Column","onClick","faFileArrowDown","color","_ref13","type","onChange","cellDataGetter","_ref14","PureComponent","propTypes","PropTypes","arrayOf","shape","isRequired"],"mappings":"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","file":"SelectDataTable.317460e2.js","sourceRoot":"../source","sourcesContent":["import React, { PureComponent } from 'react';\nimport {\n  AutoSizer, Column, Table, SortDirection,\n} from 'react-virtualized';\nimport Draggable from 'react-draggable';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSortDown, faSortUp, faSort, faFileArrowDown } from '@fortawesome/free-solid-svg-icons';\nimport arrayMove from 'array-move';\nimport PropTypes from 'prop-types';\nimport VisDataTableControl from './VisDataTableControl/VisDataTableControl';\nimport './VisDataTable.css';\n\nconst cellRenderer = (d, f) => {\n  let urlElt;\n  if (f.link && (f.link.url || f.link.field)) {\n    const urlbase = f.link.url || '';\n    urlElt = (\n      <a target=\"_blank\" href={urlbase + d.rowData[f.link.field]}>\n        {d.cellData}\n      </a>\n    );\n  } else if (f.link && f.link.url) {\n    urlElt = (\n      <a target=\"_blank\" href={f.link.url}>\n        {d.cellData}\n      </a>\n    );\n  } else {\n    // urlElt = d.cellData;\n    urlElt = Array.isArray(d.cellData) ? d.cellData.join(', ') : d.cellData;\n  }\n  return (\n    <React.Fragment key={f.dataKey}>\n      <div className=\"ReactVirtualized__Table__headerTruncatedText\" title={d.cellData}>\n        {urlElt}\n      </div>\n    </React.Fragment>\n  );\n};\n\nconst rowClassName = ({ index }) => {\n  if (index < 0) {\n    return 'headerRow';\n  }\n  return index % 2 === 0 ? 'evenRow' : 'oddRow';\n};\n\nexport default class SelectDataTable extends PureComponent {\n  constructor(props) {\n    console.log(\"constructed, showing props\")\n    console.log(props)\n    super(props);\n    const fWidth = 1 / this.props.fields.length;\n    let fields = this.props.fields.map((f) => ({ ...f, width: fWidth, isShow: true }));\n    //fields = fields.unshift({width: 50, isShow: true})\n    this.state = {\n      fields,\n      width: null,\n      sortBy: null,\n      sortDirection: null,\n      selected: []\n    };\n\n    this.autoSizer = React.createRef();\n    this.headerRenderer = this.headerRenderer.bind(this);\n    this.resizeRow = this.resizeRow.bind(this);\n    this.onResize = this.onResize.bind(this);\n    this.onSortEnd = this.onSortEnd.bind(this);\n    this.onCheckChangedHandler = this.onCheckChangedHandler.bind(this);\n    this.onAllCheckHandler = this.onAllCheckHandler.bind(this);\n    this.sortHandler = this.sortHandler.bind(this);\n    this.getSortData = this.getSortData.bind(this);\n  }\n\n  onResize({ width }) {\n    this.setState({ width });\n  }\n\n  onSortEnd({ oldIndex, newIndex }) {\n    this.setState(({ fields }) => ({\n      fields: arrayMove(fields, oldIndex, newIndex),\n    }));\n  }\n\n  onCheckChangedHandler(e) {\n    const { value } = e.target;\n    const { checked } = e.target;\n    this.setState(({ fields }) => ({\n      fields: fields.map((f) => {\n        f.isShow = f.dataKey === value ? checked : f.isShow;\n        return { ...f };\n      }),\n    }));\n  }\n\n  onAllCheckHandler() {\n    this.setState(({ fields }) => ({\n      fields: fields.map((f) => {\n        f.isShow = true;\n        return { ...f };\n      }),\n    }));\n  }\n\n  downloadSelected() {\n    let downloadLimit = this.props.configProps.downloadLimit || 15;\n    let data = this.state.selected\n    if (data.length > downloadLimit){\n      data = data.slice(0, downloadLimit);\n      alert(\"Limiting download to first \" + downloadLimit)\n    }\n    let limitedData = data.slice(0, 10);\n    console.log(limitedData)\n    console.log(\"about to try?\")\n    console.log(this.props.configProps)\n    // trigger downloads from pathdb\n    for (let record of limitedData){\n      if (record[this.props.configProps.downloadField]){\n        console.log(\"inside loop\")\n        console.log(\"trying to get metadata for slide with pathdb id\", record[this.props.configProps.field])\n        fetch(\"/node/\" + record[this.props.configProps.downloadField] + \"?_format=json\", {mode: \"cors\"}).then(x=>x.json()).then(x=>{\n          console.log(\"got something for pathdb id\", x['field_wsiimage'][0]['url'])\n          let slide_url = x['field_wsiimage'][0]['url']\n          if (window.location.protocol === \"https:\") {\n            slide_url = slide_url.replace(/^http:\\/\\//i, 'https://');\n          }\n          const iframe = document.createElement(\"iframe\");\n          iframe.setAttribute(\"sandbox\", \"allow-downloads allow-scripts\");\n          iframe.src = slide_url;\n          iframe.setAttribute(\"style\", \"display: none\");\n          document.body.appendChild(iframe);\n        }).catch(console.error)\n      }\n    }\n  }\n\n  getSortData() {\n    const { data, filterData, filters } = this.props;\n    const { sortBy, sortDirection } = this.state;\n    const currentData = filters.length > 0 ? filterData : data;\n    // filter TODO\n    return sortBy && sortDirection\n      ? currentData.sort((a, b) => {\n        const first = sortDirection === SortDirection.ASC ? a : b;\n        const second = sortDirection === SortDirection.ASC ? b : a;\n        return first[sortBy] > second[sortBy] ? 1 : -1;\n      })\n      : currentData;\n  }\n\n  resizeRow({ dataKey, deltaX }) {\n    const prevFields = this.state.fields;\n    const idx = prevFields.findIndex((f) => f.dataKey === dataKey);\n\n    const percentDelta = deltaX / this.state.width;\n    prevFields[idx].width += percentDelta;\n\n    if (idx < prevFields.length - 1) {\n      prevFields[idx + 1].width = prevFields[idx + 1].width - percentDelta;\n    }\n    this.setState({ fields: [...prevFields] });\n  }\n\n  headerRenderer({\n    dataKey, label, sortBy, sortDirection,\n  }) {\n    return (\n      <React.Fragment key={dataKey}>\n        <div className=\"ReactVirtualized__Table__headerTruncatedText\" title={label}>\n          {label}\n        </div>\n        {}\n        <div>\n          {sortBy === dataKey ? (\n            <FontAwesomeIcon icon={sortDirection === SortDirection.DESC ? faSortDown : faSortUp} />\n          ) : (\n            <FontAwesomeIcon icon={faSort} />\n          )}\n        </div>\n        <Draggable\n          axis=\"x\"\n          defaultClassName=\"DragHandle\"\n          defaultClassNameDragging=\"DragHandleActive\"\n          onDrag={(event, { deltaX }) => {\n            this.resizeRow({ dataKey, deltaX });\n          }}\n          position={{ x: 0 }}\n          zIndex={999}\n        >\n          <span className=\"DragHandleIcon\">⋮</span>\n        </Draggable>\n      </React.Fragment>\n    );\n  }\n\n  selectionHandler(isChecked, rowData){\n    let downloadLimit = this.props.configProps.downloadLimit || 15;\n    console.log(\"chexmix\", isChecked, rowData)\n    const { selected } = this.state;\n    console.log(\"state selected before change\", selected)\n    const existingIndex = selected.findIndex(item => item[\"\"] === rowData[\"\"]);\n    // if check is true, add to state\n    if (isChecked && existingIndex === -1) {\n      this.setState(prevState => ({\n        selected: [...prevState.selected, rowData]\n      }));\n    }\n      // if check is false, remove from state\n    if (!isChecked && existingIndex !== -1) {\n      this.setState(prevState => ({\n        selected: prevState.selected.filter(item => item[\"\"] !== rowData[\"\"])\n      }));\n    }\n    if (this.state.selected.length > downloadLimit - 2) {\n      alert(\"Warning: We limit to at most \" + downloadLimit + \" concurrent downloads.\")\n    }\n  }\n\n  sortHandler({ sortBy, sortDirection }) {\n    this.setState({ sortBy, sortDirection });\n  }\n\n  render() {\n    const { fields, sortBy, sortDirection } = this.state;\n    const finalData = this.getSortData();\n\n    return (\n      <div style={{ width: '100%', height: '100%' }}>\n        <VisDataTableControl\n          list={fields}\n          onSortEnd={this.onSortEnd}\n          onCheckChanged={this.onCheckChangedHandler}\n          onAllCheck={this.onAllCheckHandler}\n        />\n        <AutoSizer ref={this.autoSizer} onResize={this.onResize}>\n          {({ width, height }) => (\n            <Table\n              width={width}\n              height={height}\n              headerHeight={25}\n              rowHeight={20}\n              rowClassName={rowClassName}\n              rowCount={finalData.length}\n              rowGetter={({ index }) => finalData[index]}\n              sort={this.sortHandler}\n              sortBy={sortBy}\n              sortDirection={sortDirection}\n            >\n            <Column\n              key=\"checkbox\"\n              dataKey=\"checkbox\"\n              width={50} // Adjust width as needed\n              label=\"↓\"\n              headerRenderer={() => <div  title=\"Download Selected Files\" onClick={(e)=>{this.downloadSelected()}}> <FontAwesomeIcon icon={faFileArrowDown} style={{height:'1.8em', color:'#1b7d00'}} /></div>}\n              cellRenderer={({ rowData }) => (\n                <input\n                  type=\"checkbox\"\n                  onChange={(e) => this.selectionHandler(e.target.checked, rowData)}\n                />\n              )}\n            />\n              {fields\n                .map((f) => (\n                  <Column\n                    key={f.dataKey}\n                    cellDataGetter={({ rowData }) => rowData[f.dataKey]}\n                    dataKey={f.dataKey}\n                    label={f.label}\n                    width={width * f.width}\n                    headerRenderer={this.headerRenderer}\n                    cellRenderer={(d) => cellRenderer(d, f)}\n                  />\n                ))}\n            </Table>\n          )}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n\nSelectDataTable.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  filterData: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  fields: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  filters: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n"]}