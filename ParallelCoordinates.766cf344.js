function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequire94c2;(0,t.register)("d2VX5",function(r,n){Object.defineProperty(r.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(r.exports,"default",{get:()=>o,set:void 0,enumerable:!0,configurable:!0});var a=t("ayMG0"),i=t("acw62"),s=t("9NlP8"),l=t("c9Z8w"),c=t("63tWu");function u(e){let t=(0,i.useRef)(),r=(0,i.useRef)(),n=(0,i.useRef)(),l=e.fields.y,u=(0,i.useRef)({x:s.scalePoint(),y:{}}),o={top:25,right:40,bottom:20,left:40};function d(e,t){t.beginPath(),l.forEach((r,n)=>{0===n?t.moveTo(u.current.x(r),u.current.y[r](e[r])):t.lineTo(u.current.x(r),u.current.y[r](e[r]))}),t.stroke()}function f(){if(!s.event.selection)return;let t=l.filter(e=>u.current.y[e].brush===s.event.target)[0],[r,n]=[s.event.selection[0],s.event.selection[1]];e.filterAdded([{id:e.id,title:e.title,field:t,operation:"range",values:[(0,c.numFixed)(u.current.y[t].invert(n)),(0,c.numFixed)(u.current.y[t].invert(r))]}])}return(0,i.useEffect)(()=>{setTimeout(()=>{s.select(t.current).selectAll("canvas").remove("canvas"),s.select(t.current).selectAll("svg").remove("svg");let a=t.current.getBoundingClientRect(),i=a.width-o.left-o.right,c=a.height-o.top-o.bottom;n.current=s.select(t.current).append("canvas").attr("width",i).attr("height",c).style("transform",`translate(${o.left}px,${o.top}px)`),r.current=s.select(t.current).append("canvas").attr("width",i).attr("height",c).style("transform",`translate(${o.left}px,${o.top-c-5}px)`),n.current=n.current.node().getContext("2d"),r.current=r.current.node().getContext("2d"),r.current.strokeStyle="rgba(0,100,160,0.24)",n.current.strokeStyle="rgba(0,0,0,0.1)";let d=s.select(t.current).append("svg").attr("width",a.width).attr("height",a.height).style("transform",`translate(0px,${-2*c-o.top/2}px)`).append("g").style("transform",`translate(${o.left}px,${o.top}px)`);u.current.x.domain(l),u.current.x.range([0,i],1),l.forEach(t=>{u.current.y[t]=s.scaleLinear().domain(s.extent(e.data,e=>+e[t])).range([c,0])});let h=d.selectAll(".dimension").data(l).enter().append("g").attr("class","dimension").attr("transform",e=>`translate(${u.current.x(e)})`);h.append("g").attr("class","axis").each(function(e){s.select(this).call(s.axisLeft(u.current.y[e]))}).append("text").style("text-anchor","middle").attr("y",-9).text(e=>e),h.append("g").attr("class","brush").each(function(e){s.select(this).call(u.current.y[e].brush=s.brushY().extent([[-10,0],[10,c]]).on("end",f))}).selectAll("rect").attr("x",-8).attr("width",16)},100)},[e.layout]),(0,i.useEffect)(()=>{setTimeout(()=>{if(!e.filterData)return;let a=t.current.getBoundingClientRect(),i=a.width-o.left-o.right,s=a.height-o.top-o.bottom;r.current.clearRect(0,0,i+1,s+1),n.current.clearRect(0,0,i+1,s+1),0===e.filters.length?e.data.forEach(e=>{d(e,r.current)}):e.data.forEach(t=>{e.filterData.includes(t)?d(t,r.current):d(t,n.current)})},100)},[e.filters,e.filterData,e.layout]),(0,a.jsx)("div",{id:e.id,ref:t,role:"figure",style:{width:"100%",height:"100%"}})}var o=u;u.propTypes={title:e(l).string.isRequired,data:e(l).arrayOf(e(l).shape({})).isRequired,filterData:e(l).arrayOf(e(l).shape({})).isRequired,fields:e(l).shape({y:e(l).arrayOf(e(l).string).isRequired}).isRequired,id:e(l).string.isRequired,filters:e(l).arrayOf(e(l).shape({})).isRequired,filterAdded:e(l).func.isRequired,layout:e(l).shape({width:e(l).number.isRequired,currentCols:e(l).number.isRequired}).isRequired}});
//# sourceMappingURL=ParallelCoordinates.766cf344.js.map
