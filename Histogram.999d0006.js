function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequire94c2;(0,t.register)("92AJR",function(a,r){Object.defineProperty(a.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(a.exports,"default",{get:()=>o,set:void 0,enumerable:!0,configurable:!0});var i=t("ayMG0"),s=t("acw62"),n=t("9NlP8"),l=t("c9Z8w"),d=t("63tWu");function u({data:e,fields:t,id:a,binsCount:r=10,filterData:l,filters:u,filterAdded:o,layout:c}){let h=(0,s.useRef)(),[f]=(0,s.useState)({x:n.scaleLinear(),y:n.scaleLinear()}),[x]=(0,s.useState)({hist:n.histogram(),bins:null});return(0,s.useEffect)(()=>{setTimeout(()=>{n.select(h.current).selectAll("svg").remove("svg");let i=h.current.getBoundingClientRect(),s=i.width-40-10,l=i.height-10-30,u=n.select(h.current).append("svg").attr("width",i.width).attr("height",i.height).append("g").attr("transform","translate(40,10)");f.x.domain([0,n.max(e,e=>e[t.x])]).range([0,s]),x.hist.value(e=>e[t.x]).domain(f.x.domain()).thresholds(f.x.ticks(r)),x.bins=x.hist(e),f.y=n.scaleLinear().range([l,0]).domain([0,n.max(x.bins,e=>e.length)]);let c=n.brushX().extent([[0,0],[s,l]]).on("end",()=>{if(n.event.selection){let[e,r]=[n.event.selection[0],n.event.selection[1]];o([{id:a,field:t.x,operation:"range",values:[(0,d.numFixed)(f.x.invert(e)),(0,d.numFixed)(f.x.invert(r))]}])}});u.append("g").call(c),u.append("g").attr("transform",`translate(0,${l})`).call(n.axisBottom(f.x)),u.append("g").call(n.axisLeft(f.y)).append("g").attr("class","hist-area").selectAll(".bar").data(x.bins).join("rect").attr("class","bar").attr("x",1).attr("transform",e=>`translate(${f.x(e.x0)},${f.y(e.length)})`).attr("width",e=>Math.max(f.x(e.x1)-f.x(e.x0)-1,0)).attr("height",e=>l-f.y(e.length)).style("fill","#87CEFA")},100)},[c]),(0,s.useEffect)(()=>{setTimeout(()=>{let e=h.current.getBoundingClientRect().height-10-30,{bins:t}=x;0!==u.length&&(t=x.hist(l)),n.select(h.current).selectAll(".hist-area").selectAll(".bar-f").data(t).join("rect").attr("class","bar-f").style("transform","scale(1, -1)").attr("x",e=>f.x(e.x0)).attr("y",()=>-e).transition().duration(1e3).attr("width",e=>Math.max(f.x(e.x1)-f.x(e.x0)-1,0)).attr("height",t=>e-f.y(t.length)).style("fill","#4682B4")},100)},[u,l,c]),(0,i.jsx)("div",{id:a,ref:h,role:"figure",style:{width:"100%",height:"100%"}})}var o=u;u.propTypes={data:e(l).arrayOf(e(l).shape({})).isRequired,fields:e(l).shape({x:e(l).string.isRequired}).isRequired,id:e(l).string.isRequired,binsCount:e(l).number,filterData:e(l).arrayOf(e(l).shape({})).isRequired,filters:e(l).arrayOf(e(l).shape({})).isRequired,filterAdded:e(l).func.isRequired,layout:e(l).shape({width:e(l).number.isRequired,currentCols:e(l).number.isRequired}).isRequired},u.defaultProps={binsCount:10}});
//# sourceMappingURL=Histogram.999d0006.js.map
